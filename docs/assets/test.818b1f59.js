import{m as v,o as h,c as w,F as g,a as s}from"./index.a6d73d91.js";const _=s("video",{class:"layer",src:"",muted:"","webkit-playsinline":"",playsinline:"","x5-playsinline":"",style:{left:"1000%"}},null,-1),m=s("canvas",{id:"canvaselement",width:"1920"},null,-1),x={__name:"test",setup(u){return v(()=>{const e=document.querySelector("video"),t=document.querySelector("canvas"),n=i=>{console.log(i),"srcObject"in e?(e.src="",e.srcObject=i):e.src=URL.createObjectURL(i),e.play()};e.addEventListener("loadedmetadata",()=>{t.height=e.videoHeight/e.videoWidth*window.innerWidth*window.devicePixelRatio,t.width=window.innerWidth*window.devicePixelRatio,t.style.width=t.width/window.devicePixelRatio+"px",t.style.height=t.height/window.devicePixelRatio+"px"});var o={audio:!1,video:{facingMode:"environment"}};const d=i=>{console.error(i)};navigator.mediaDevices&&navigator.mediaDevices.getUserMedia?navigator.mediaDevices.getUserMedia(o).then(n,d):navigator.getUserMedia?navigator.getUserMedia(o,n,d):a(new Error("\u5F53\u524D\u6D4F\u89C8\u5668\u4E0D\u652F\u6301\u6253\u5F00\u6444\u50CF\u5934"));var c=t.getContext("2d",{alpha:!1});function r(i){c.drawImage(i,0,0,t.width,t.height)}var l=60;window.setInterval(()=>{r(e)},1e3/l)}),(e,t)=>(h(),w(g,null,[_,m],64))}};export{x as default};
