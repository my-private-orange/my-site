<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <link rel="icon" href="/skongmiao/favicon.ico" />
  <!-- <link rel="stylesheet" href="loading.css" /> -->
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0">
  <meta http-equiv="Content-Security-Policy" content="upgrade-insecure-requests">

  <title>智慧孔庙</title>
  <!-- <link href="/public/fonts.css"> -->

  <style>
    #__vconsole {
      display: none;
    }


    .fake-progress {
      position: fixed;
      width: 100%;
      height: 100%;
      left: 0;
      top: 0;
      background: linear-gradient(0deg, #273442 0%, #495b69 100%);
      display: flex;
      flex-direction: column;
      justify-content: center;
      z-index: 999;
      transition: opacity 0.5s;

    }

    .fake-progress .mobilePriview-img {
      object-fit: cover;
      width: 100%;
      height: 100%;
    }

    .fake-progress .moren-img {
      width: 70%;
      margin: -15% auto 0;
    }

    .fake-progress .propress-top {
      position: absolute;
      bottom: 100px;
      width: 90%;
      left: 5%;
    }

    /* .fake-progress .pro-padding {
    margin: 0 100px;
  } */

    .fake-progress .el-progress {
      position: relative;
      line-height: 1;
    }

    .fake-progress .el-progress--text-inside .el-progress-bar {
      padding-right: 0;
      margin-right: 0;
    }

    .fake-progress .el-progress-bar {
      padding-right: 50px;
      width: 100%;
      margin-right: -55px;
      -webkit-box-sizing: border-box;
      box-sizing: border-box;
    }

    .fake-progress .el-progress-bar,
    .fake-progress .el-progress-bar__inner::after,
    .fake-progress .el-progress-bar__innerText,
    .fake-progress .el-spinner {
      display: inline-block;
      vertical-align: middle;
    }

    .fake-progress .el-progress-bar__outer {
      overflow: inherit;
    }

    .fake-progress .el-progress-bar__outer {
      height: 6px;
      border-radius: 100px;
      background-color: #EBEEF5;
      /* overflow: hidden; */
      position: relative;
      vertical-align: middle;
    }

    .fake-progress .el-progress-bar__inner {
      position: absolute;
      left: 0;
      top: 0;
      height: 100%;
      background-color: #409EFF;
      text-align: right;
      border-radius: 100px;
      line-height: 1;
      white-space: nowrap;
      -webkit-transition: width .6s ease;
      transition: width .6s ease;
    }

    .fake-progress .el-progress-bar__innerText {
      position: relative;
      top: -18px;
      margin: 0;
    }

    .fake-progress .el-progress-bar__innerText {
      color: #FFF;
      font-size: 12px;
    }

    .fake-progress .el-progress-bar,
    .fake-progress .el-progress-bar__inner::after,
    .fake-progress .el-progress-bar__innerText,
    .fake-progress .el-spinner {
      display: inline-block;
      vertical-align: middle;
    }

    .fake-progress .el-progress-bar__inner::after {
      height: 100%;
    }

    .fake-progress .el-progress-bar__inner::after {
      content: "";
    }

    /* .cover_loading {
      position: absolute;
      left: 0;
      right: 0;
      top: 0;
      bottom: 0;
      z-index: 1000;
      display: block;
      width: 100%;
      height: 100%;
      object-fit: fill;
    }

    .footer_loading {
      padding-top: 0.9375rem;
      display: flex;
      justify-content: center;
      align-items: center;
      position: absolute;
      z-index: 1001;
      left: 50%;
      transform: translateX(-50%);
      bottom: 3.3%;
    }

    .footer_loading .styled-button {
      width: 11.28125rem;
      height: 2.875rem !important;
      font-size: 1.125rem !important;
      line-height: 1 !important;
      padding-right: 6% !important;
      padding-bottom: 1% !important;
      background-image: url(/skongmiao/styled-button.png);
      width: 11rem;
      height: 2.625rem;
      line-height: 2.625rem;
      font-size: 1.125rem;
      background-size: 100% 92%;
      background-repeat: no-repeat;
      color: #ffffff;
      background-color: transparent;
      border: none;
      box-shadow: none;
      text-align: center;
      padding-right: 12%;
      padding-left: 0;
      display: flex;
      align-items: center;
      justify-content: center;
    } */
  </style>
  <script type="module" crossorigin src="/skongmiao/assets/index.13875b9f.js"></script>
  <link rel="stylesheet" href="/skongmiao/assets/index.43f0d80c.css">
</head>

<body>
  <!-- <img src="https://img.vrwenbo.com/lbn5iu4pfrk9s3xv6t0jc1mezqw7y8ad.jpeg" alt="tip-image" class="cover_loading"
    style="display: none;">
  <div class="footer_loading" style="display: none;"><button class="styled-button">确认</button></div> -->
  <!-- JS文件加载完之前，会显示这个静态的LOADING页面，进度条的进度百分数是假的 -->
  <div class="fake-progress" style="display: none;">
    <img src="phone_logo.png" alt="" class="moren-img" />
    <div data-v-9b3839f6="" class="propress-top">
      <div data-v-9b3839f6="" role="progressbar" aria-valuenow="0" aria-valuemin="0" aria-valuemax="100"
        class="el-progress pro-padding el-progress--line el-progress--text-inside">
        <div class="el-progress-bar">
          <div class="el-progress-bar__outer" style="height: 6px;">
            <div class="el-progress-bar__inner" style="width: 0%; background-color: rgb(155, 207, 221);">
              <div class="el-progress-bar__innerText">0%</div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
  <div id="app"></div>

  <script>
    // document.querySelector('.styled-button').addEventListener('click', () => {
    //   document.querySelector('.footer_loading').remove()
    //   document.querySelector('.cover_loading').remove()
    // })
    // function initCover () {
    //   if (/^#\/site\-ar/.test(location.hash)) {
    //     document.querySelector('.footer_loading').style.display = 'block'
    //     document.querySelector('.cover_loading').style.display = 'block'
    //   } else {
    //     document.querySelector('.footer_loading') && document.querySelector('.footer_loading').remove()
    //     document.querySelector('.cover_loading') && document.querySelector('.cover_loading').remove()
    //   }
    // }
    // initCover()

    var current;
    var interval;
    function setCurrentProgress (percentage) {
      var barInner = document.querySelector('.fake-progress .el-progress-bar__inner')
      if (barInner) {
        barInner.style.width = percentage + '%';
      }

      var barText = document.querySelector('.fake-progress .el-progress-bar__innerText')
      if (barText) {
        barText.innerHTML = percentage + '%';
      }
    }

    function initFakeLoading () {
      // 只有特定的URL才会出现假的fake loading
      if (/^#\/pray\-ar/.test(location.hash)) {
        var progress = document.querySelector('.fake-progress')
        if (progress) {
          const isMobile = true;
          if (!isMobile) {
            // PC端loading页面样式微调
            const image = document.querySelector('.fake-progress .moren-img')
            if (image) {
              image.style.width = '40%'
              image.style.margin = '0 auto'
              image.src = 'PC_logo.png'
            }
          }
          // 显示fake loading (默认是不显示的)
          progress.style.display = 'flex'
          progress.style.opacity = '1'
          current = 0
          setCurrentProgress(current)

          // 自定义事件，JS加载后触发，隐藏fake loading页面
          window.pageLoadedEvent = new CustomEvent('page-loaded-event', {});
          window.addEventListener('page-loaded-event', (e) => {
            current = 100
            setCurrentProgress(current)
            clearInterval(interval)
            setTimeout(() => {
              progress.style.opacity = '0'
              setTimeout(() => {
                progress.style.display = 'none'
              }, 500)
            }, 500)
          });

          let increment = 50

          interval = setInterval(() => {
            // 最终会停在99%
            if (current >= 99) {
              clearInterval(interval)
            }
            setCurrentProgress(current)

            // 90%之前，每秒增加10%，90%后，每秒增加1%
            if (current >= 90) {
              current += 1;
            } else {
              current += increment;
              increment = 10
            }
          }, 1000)
        }
      }
    }
    initFakeLoading()
    addEventListener('hashchange', (event) => {
      // initCover()
      initFakeLoading()
    });


  </script>
  <script type="text/javascript" src="https://res.wx.qq.com/open/js/jweixin-1.3.2.js"></script>
  <script>
    function ready () {
      window.isWechat = window.__wxjs_environment === 'miniprogram';
    }
    if (!window.WeixinJSBridge || !WeixinJSBridge.invoke) {
      document.addEventListener('WeixinJSBridgeReady', ready, false)
    } else {
      ready()
    }

  </script>
  <script src="https://img.vrwenbo.com/js/adapter.min.js"></script>
  <script src="https://img.vrwenbo.com/js/mindar-image.prod.js"></script>
  <script src="https://img.vrwenbo.com/js/aframe.min.js"></script>

  <script src="https://img.vrwenbo.com/js/mindar-image-aframe.prod.js"></script>
  
  <script src="https://unpkg.com/vconsole@latest/dist/vconsole.min.js"></script>

  <script>
    // 初始化
    var vConsole = new VConsole();
    var touchcount = 0;
    var lastTouchTime;
    function isHidden (el) {
      var style = window.getComputedStyle(el);
      return (style.display === 'none')
    }
    window.addEventListener('touchstart', (event) => {
      const elem = document.querySelector('#__vconsole');
      if (touchcount > 15) {
        if (isHidden(elem)) {
          elem.style.display = 'block'
        } else {
          elem.style.display = 'none'
        }
        touchcount = 0;
        return;
      }

      lastTouchTime = Date.now()

    })

    window.addEventListener('touchend', (event) => {
      const touch = event.touches[0] || event.changedTouches[0]
      if (touch && touch.clientX < 50 && touch.clientY < 50) {
        if (Date.now() - lastTouchTime < 500) {
          touchcount++;
        } else {
          touchcount = 0;
        }
      }
    })
  </script>
</body>

</html>